"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[232],{9620:(E,g,r)=>{r.d(g,{Q:()=>l,a:()=>d});var t=r(7408);const l={building_id:null,company_id:1,name:"",address:"",code:"",phone:"",manager:""},d={paginate:t.i,sort:{active:"create_at",direction:"asc"},apiIntegrations:[{api_integration_id:0,building_id:0,api_url:"asd",name_function:"asd",description:"asd",time_ejecution:0,is_job:0}]}},6224:(E,g,r)=>{r.r(g),r.d(g,{default:()=>Y});var t=r(4496),l=r(1560),d=r(1568),b=r(7816),h=r(1725),p=r(2156),c=r(440),k=r(1292),v=r(8812),m=r(7408),D=r(2864),f=r(6716),R=r(7048);let C=(()=>{class n{constructor(e){this._httpClient=e}dataTableUser(e,i,{length:a,pageIndex:o,pageSize:s},{active:I,direction:x}){return this._httpClient.post(`${f.O.apiUrl}/user-deparment/data-table`,{department_id:e,locker_id:i,length:a,pageIndex:o,pageSize:s,active:I,direction:x})}dataTableDepartment(e,{length:i,pageIndex:a,pageSize:o},{active:s,direction:I}){return this._httpClient.post(`${f.O.apiUrl}/department/data-table`,{locker_id:e,length:i,pageIndex:a,pageSize:o,active:s,direction:I})}static#t=this.\u0275fac=function(i){return new(i||n)(t.CoB(R.KK))};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _(n,y){if(1&n){const e=t.KQA();t.I0R(0,"div",8)(1,"div",9),t.OEk(2),t.C$Y(),t.I0R(3,"div",10)(4,"mat-chip",11),t.OEk(5),t.C$Y()(),t.I0R(6,"div",10)(7,"a",12),t.OEk(8),t.C$Y()(),t.I0R(9,"div",13)(10,"button",14),t.qCj("click",function(){const o=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.handlerViewDepartament(o.department_id))}),t.wR5(11,"mat-icon",15),t.C$Y()()()}if(2&n){const e=y.$implicit;t.yG2(2),t.oRS(" ",e.name," "),t.yG2(3),t.cNF(0===e.state?"Desactivado":"Activo"),t.yG2(2),t.E7m("color","primary")("routerLink","/department/"+e.department_id+"/users/"+e.department_id),t.yG2(),t.oRS(" ",e.users.length>0?e.users.length+" usuarios":"No hay usuarios"," "),t.yG2(2),t.E7m("color","primary")}}let G=(()=>{class n{handlerNavigateUser(e){throw new Error("Method not implemented.")}handlerViewDepartament(e){throw new Error("Method not implemented.")}constructor(e,i,a,o){this._matDialog=e,this._confirmation=i,this._departmentService=a,this._snackBar=o,this.initialPagination=m.i,this.dataTableDepartament=t.YhN.required(),this.reloaddataTableDepartament=new t._w7}handleSorts(){this.dataTableDepartament().sort.active=this._sort.active,this.dataTableDepartament().sort.direction=this._sort.direction,this.reloaddataTableDepartament.emit(this.dataTableDepartament())}handlePageEvent(e){this.dataTableDepartament().paginate.length=e.length,this.dataTableDepartament().paginate.pageIndex=e.pageIndex,this.dataTableDepartament().paginate.pageSize=e.pageSize,this.reloaddataTableDepartament.emit(this.dataTableDepartament())}static#t=this.\u0275fac=function(i){return new(i||n)(t.GI1(D.qW),t.GI1(k.Q),t.GI1(C),t.GI1(v.u))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["data-table-department"]],viewQuery:function(i,a){if(1&i&&(t.CC$(p.Qb,5),t.CC$(c.E9,5)),2&i){let o;t.wto(o=t.Gqi())&&(a._paginator=o.first),t.wto(o=t.Gqi())&&(a._sort=o.first)}},inputs:{dataTableDepartament:[t.Wk5.SignalBased,"dataTableDepartament"]},outputs:{reloaddataTableDepartament:"reloaddataTableDepartament"},standalone:!0,features:[t.M5G([k.Q,v.u,{provide:p.CQ,useClass:m.n}]),t.UHJ],decls:14,vars:6,consts:[[1,"grid","border"],["matSort","","matSortDisableClear","",1,"movement-grid","grid","xs:grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","z-10","sticky","top-0","gap-2","py-4","px-6","md:px-8","shadow","font-semibold","text-secondary","bg-gray-50","dark:dark:bg-neutral-900","dark:bg-opacity-5"],[1,"truncate","xs:truncate","sm:truncate","md:block","lg:block","xl:block",3,"mat-sort-header","click"],[1,"hidden","xs:hidden","sm:block","md:block","lg:block","xl:block",3,"mat-sort-header","click"],[1,"hidden","xs:hidden","sm:block","md:block","lg:block","xl:block"],[1,"truncate","xs:truncate","sm:truncate","md:block","lg:block","xl:block"],[1,"flex","flex-auto","flex-col","overflow-y-auto"],[1,"bg-gray-50","border-b","dark:bg-transparent","absolute","border-t","bottom-0","inset-x-0","z-10",3,"length","pageIndex","pageSize","pageSizeOptions","page"],[1,"movement-grid","grid","xs:grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","items-center","gap-2","py-3","px-6","md:px-8","border-b"],[1,"truncate","xs:truncate","sm:block","md:block","lg:block","xl:block"],[1,"hidden","xs:truncate","sm:block","md:block","lg:block","xl:block"],["cdkDrag","",1,""],["mat-flat-button","","matTooltip","Eliminar",1,"",3,"color","routerLink"],[1,"truncate","xs:truncate","md:block","lg:block","xl:block"],["mat-icon-button","","matTooltip","Eliminar",1,"mx-1",3,"color","click"],["svgIcon","heroicons_outline:eye"],["class","movement-grid grid xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4 items-center gap-2 py-3 px-6 md:px-8 border-b"]],template:function(i,a){1&i&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2),t.qCj("click",function(){return a.handleSorts()}),t.OEk(3," Nombre "),t.C$Y(),t.I0R(4,"div",3),t.qCj("click",function(){return a.handleSorts()}),t.OEk(5," Estado "),t.C$Y(),t.I0R(6,"div",4),t.OEk(7," Hospedados "),t.C$Y(),t.I0R(8,"div",5),t.OEk(9," Acciones "),t.C$Y()(),t.I0R(10,"div",6),t.c53(11,_,12,6,"div",16,t.wJt),t.I0R(13,"mat-paginator",7),t.qCj("page",function(s){return a.handlePageEvent(s)}),t.C$Y()()()),2&i&&(t.yG2(2),t.E7m("mat-sort-header","department_id"),t.yG2(2),t.E7m("mat-sort-header","state"),t.yG2(7),t.oho(a.dataTableDepartament().departments),t.yG2(2),t.E7m("length",a.dataTableDepartament().paginate.length)("pageIndex",a.dataTableDepartament().paginate.pageIndex)("pageSize",a.dataTableDepartament().paginate.pageSize)("pageSizeOptions",a.initialPagination.PageSizeOption))},dependencies:[c.Su,c.E9,c.e6,l.oB,l.qL,p.Qb,h.Gs,h.oH,b.oJ,b.EB,b.um,d.ER],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();var u=r(1004);const O={paginate:m.i,sort:{active:"user_id",direction:"asc"},users:[],locker:u.gE},w={paginate:m.i,sort:{active:"department_id",direction:"asc"},departments:[],locker:u.gE};var T=r(3992);let S=(()=>{class n{constructor(e,i){this._activateRoute=e,this._departmentService=i,this.lockerId=parseInt(this._activateRoute.snapshot.paramMap.get("id")),this.locker=(0,t.OCB)(u.gE),this.dataTableDepartament=(0,t.OCB)(w)}ngOnInit(){this._departmentService.dataTableDepartment(this.lockerId,this.dataTableDepartament().paginate,this.dataTableDepartament().sort).pipe((0,T.U)(1)).subscribe(e=>{this.dataTableDepartament.set(e.data),this.locker.set(e.data.locker)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.GI1(d.gV),t.GI1(C))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-list-department"]],standalone:!0,features:[t.UHJ],decls:22,vars:7,consts:[[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-slate-900"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[3,"dataTableDepartament"]],template:function(i,a){1&i&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"a",3),t.OEk(5,"Tablero"),t.C$Y()(),t.I0R(6,"div",4),t.wR5(7,"mat-icon",5),t.I0R(8,"a",3),t.OEk(9,"Edificio"),t.C$Y()(),t.I0R(10,"div",4),t.wR5(11,"mat-icon",5),t.I0R(12,"a",3),t.OEk(13,"Locker"),t.C$Y()(),t.I0R(14,"div",4),t.wR5(15,"mat-icon",5),t.I0R(16,"a",6),t.OEk(17,"Departamentos"),t.C$Y()()(),t.I0R(18,"div",7)(19,"h2",8),t.OEk(20," Departamentos "),t.C$Y()()()(),t.wR5(21,"data-table-department",9)),2&i&&(t.yG2(4),t.E7m("routerLink","/building"),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(),t.E7m("routerLink","/locker/building-lockers/"+a.locker().building_id),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(),t.E7m("routerLink","/locker/status/"+a.locker().locker_id),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(6),t.E7m("dataTableDepartament",a.dataTableDepartament()))},dependencies:[l.qL,d.ER,G],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();function U(n,y){if(1&n&&(t.I0R(0,"div",6)(1,"div",7),t.OEk(2),t.C$Y(),t.I0R(3,"div",8),t.OEk(4),t.C$Y(),t.I0R(5,"div",8)(6,"mat-chip",9),t.OEk(7),t.C$Y()(),t.wR5(8,"div",10),t.C$Y()),2&n){const e=y.$implicit;t.yG2(2),t.oRS(" ",e.name," "),t.yG2(2),t.oRS(" ",e.celular," "),t.yG2(3),t.cNF(0===e.state?"Desactivado":"Activo")}}let $=(()=>{class n{constructor(){this.initialPagination=m.i,this.dataTableUsers=t.YhN.required()}handlePageEvent(e){throw new Error("Method not implemented.")}handlerViewDepartament(e){throw new Error("Method not implemented.")}handleSorts(){throw new Error("Method not implemented.")}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["data-table-user"]],inputs:{dataTableUsers:[t.Wk5.SignalBased,"dataTableUsers"]},standalone:!0,features:[t.M5G([k.Q,v.u,{provide:p.CQ,useClass:m.n}]),t.UHJ],decls:14,vars:7,consts:[[1,"grid","border"],["matSort","","matSortDisableClear","",1,"movement-grid","grid","xs:grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","z-10","sticky","top-0","gap-2","py-4","px-6","md:px-8","shadow","font-semibold","text-secondary","bg-gray-50","dark:dark:bg-neutral-900","dark:bg-opacity-5"],[1,"hidden","xs:hidden","sm:block","md:block","lg:block","xl:block",3,"mat-sort-header","click"],[1,"truncate","xs:truncate","sm:truncate","md:block","lg:block","xl:block"],[1,"flex","flex-auto","flex-col","overflow-y-auto"],[1,"bg-gray-50","border-b","dark:bg-transparent","absolute","border-t","bottom-0","inset-x-0","z-10",3,"length","pageIndex","pageSize","pageSizeOptions","page"],[1,"movement-grid","grid","xs:grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-4","xl:grid-cols-4","items-center","gap-2","py-3","px-6","md:px-8","border-b"],[1,"truncate","xs:truncate","sm:block","md:block","lg:block","xl:block"],[1,"hidden","xs:truncate","sm:block","md:block","lg:block","xl:block"],["cdkDrag","",1,""],[1,"truncate","xs:truncate","md:block","lg:block","xl:block"],["class","movement-grid grid xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4 items-center gap-2 py-3 px-6 md:px-8 border-b"]],template:function(i,a){1&i&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2),t.qCj("click",function(){return a.handleSorts()}),t.OEk(3," Nombre completo "),t.C$Y(),t.I0R(4,"div",2),t.qCj("click",function(){return a.handleSorts()}),t.OEk(5," Celular "),t.C$Y(),t.I0R(6,"div",2),t.qCj("click",function(){return a.handleSorts()}),t.OEk(7," Estado "),t.C$Y(),t.I0R(8,"div",3),t.OEk(9," Acciones "),t.C$Y()(),t.I0R(10,"div",4),t.c53(11,U,9,3,"div",11,t.wJt),t.I0R(13,"mat-paginator",5),t.qCj("page",function(s){return a.handlePageEvent(s)}),t.C$Y()()()),2&i&&(t.yG2(2),t.E7m("mat-sort-header","name"),t.yG2(2),t.E7m("mat-sort-header","celular"),t.yG2(2),t.E7m("mat-sort-header","state"),t.yG2(5),t.oho(a.dataTableUsers().users),t.yG2(2),t.E7m("length",a.dataTableUsers().paginate.length)("pageIndex",a.dataTableUsers().paginate.pageIndex)("pageSize",a.dataTableUsers().paginate.pageSize)("pageSizeOptions",a.initialPagination.PageSizeOption))},dependencies:[c.Su,c.E9,c.e6,l.oB,p.Qb,h.Gs,h.oH,b.oJ],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();const Y=[{path:":id/users/:department_id",component:(()=>{class n{constructor(e,i){this._departmentService=e,this._activateRoute=i,this.lockerId=parseInt(this._activateRoute.snapshot.paramMap.get("id")),this.departmentId=parseInt(this._activateRoute.snapshot.paramMap.get("department_id")),this.dataTableUser=(0,t.OCB)(O),this.locker=(0,t.OCB)(u.gE)}ngOnInit(){this._departmentService.dataTableUser(this.departmentId,this.lockerId,this.dataTableUser().paginate,this.dataTableUser().sort).pipe((0,T.U)(1)).subscribe(e=>{this.dataTableUser.set(e.data),this.locker.set(e.data.locker)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.GI1(C),t.GI1(d.gV))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-list-user"]],standalone:!0,features:[t.UHJ],decls:25,vars:9,consts:[[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[3,"dataTableUsers"]],template:function(i,a){1&i&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"a",3),t.OEk(5,"Tablero"),t.C$Y()(),t.I0R(6,"div",4),t.wR5(7,"mat-icon",5),t.I0R(8,"a",3),t.OEk(9,"Edificio"),t.C$Y()(),t.I0R(10,"div",4),t.wR5(11,"mat-icon",5),t.I0R(12,"a",3),t.OEk(13,"Locker"),t.C$Y()(),t.I0R(14,"div",4),t.wR5(15,"mat-icon",5),t.I0R(16,"a",3),t.OEk(17,"Departamentos"),t.C$Y()(),t.I0R(18,"div",4),t.wR5(19,"mat-icon",5),t.OEk(20," Hospedados "),t.C$Y()(),t.I0R(21,"div",6)(22,"h2",7),t.OEk(23," Hospedados "),t.C$Y()()()(),t.wR5(24,"data-table-user",8)),2&i&&(t.yG2(4),t.E7m("routerLink","/building"),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(),t.E7m("routerLink","/locker/building-lockers/"+a.locker().building_id),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(),t.E7m("routerLink","/locker/status/"+a.lockerId),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(),t.E7m("routerLink","/department/"+a.departmentId),t.yG2(3),t.E7m("svgIcon","heroicons_mini:chevron-right"),t.yG2(5),t.E7m("dataTableUsers",a.dataTableUser()))},dependencies:[l.oB,l.qL,d.ER,$],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})()},{path:":id",component:S}]}}]);